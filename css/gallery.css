/* Root variables */
:root {
  --dark-blue: #253d5b;
}

/* Fonts */
@font-face {
  font-family: "Segoe UI";
  src: url("fonts/segoeui.ttf") format("truetype");
}
@font-face {
  font-family: "Segoe UI";
  src: url("fonts/segoeuib.ttf") format("truetype");
  font-weight: bold;
}

/* Global styles */
* {
  font-family: "Segoe UI", sans-serif !important;
  box-sizing: border-box;
}

html,
body {
  background: none transparent;
  height: 100%;
  margin: 0;
  padding: 0;
}

/* Wrapper to prevent content from going under the footer */
#wrapper {
  padding-bottom: 30px; /* Adjust to be greater than or equal to footer height */
}

.modal-header {
  display: block;
}
.modal-header .close {
  position: absolute;
  top: 1rem;
  right: 1rem;
}

.gallery-header h1,
.gallery-header h4,
.modal-title {
  color: var(--dark-blue);
  margin-bottom: 10px;
  font-weight: bold;
}
.gallery-header h4 {
  font-style: italic;
}

.album-keyword {
  font-weight: bold;
  padding: 2px;
  background-color: rgba(0, 139, 0, 0.17);
}

/* Off-canvas panels */
.offcanvas-wordcloud,
.offcanvas-add-photos {
  position: fixed;
  top: 0;
  width: 300px;
  height: 100%;
  background-color: #f8f9fa;
  z-index: 1001;
  padding: 5px;
  margin: 0;
  /* Remove box-shadow from scrollbars and container */
  box-shadow: none;
}
.offcanvas-wordcloud {
  left: -300px;
  max-height: 100vh;
  overflow-y: auto;
  transition: left 0.3s ease;
}
.offcanvas-wordcloud.visible {
  left: 0;
}
.offcanvas-add-photos {
  right: -360px;               /* hide offscreen by default */
  width: 360px;                /* slightly wider for form/content */
  transition: right 0.32s ease;
  max-height: 100vh;
  overflow-y: auto;
  z-index: 1002;               /* above other panels */
  padding: 10px;
  box-sizing: border-box;
}
.offcanvas-add-photos.visible {
  right: 0;                    /* slide into view */
}

/* Off-canvas header */
.offcanvas-header {
  text-align: center;
  padding-bottom: 5px;
}
.offcanvas-header button {
  position: absolute;
    right: 10px;
    top: 0;
}
.instructions-section h4:first-of-type {
  display: none;
}
#add-photos-content > div > ul,
#add-photos-content > div > ul > li > ul {
  margin-left: 20px;
}
#aboutModalBody h4:first-of-type {
  display: none;
}
.offcanvas-header h4 {
  color: var(--dark-blue);
  font-weight: bold;
  margin: 0;
}

.close-button {
  font-size: 24px;
  background: none;
  border: none;
  cursor: pointer;
  color: #333;
}

/* Word cloud */
.offcanvas-wordcloud {
  font-size: 0.8em;
}
.word-cloud {
  margin-top: 20px;
}
.word-cloud .word-filter {
  display: inline-block;
  margin: 3px 5px;
  cursor: pointer;
  color: #007bff;
  text-transform: capitalize;
  transition: color 0.3s;
  white-space: nowrap;
  border: 0;
}
.word-cloud .word-filter sup {
  font-size: 0.75em;
  color: #6c757d;
}
.word-cloud .word-filter:hover {
  color: #0056b3;
}
.word-cloud .word-filter.active {
  font-weight: bold;
  color: #0056b3;
  background-color: #0056b373;
}

/* Add Photos Sidebar */
.add-photos-content {
  font-size: 0.8em;
  overflow-y: auto;
  padding: 15px;
  z-index: 1001;
  max-height: 100vh;
  display: block;
  height: calc(100vh - 50px);
  box-sizing: border-box;
}
#add-photos-content ol,
#add-photos-content ul {
  margin-left: 0;
  padding-left: 1px;
}
.bordered-list {
  border: 2px solid #008b00;
  padding: 10px;
  margin: 10px 0;
  border-radius: 5px;
}
#add-photos-content li {
  margin-top: 4px;
}
#add-photos-content li {
  margin-bottom: 1rem;
}
#add-photos-content ol {
  counter-reset: item
}
#add-photos-content ol li {
  display: block
}
#add-photos-content ol li:before {
  content: counters(item, ".") ". ";
  counter-increment: item
}
#add-photos-content ul,
#add-photos-content ol ul {
  list-style-type: disc;
}

.euraf-af-list p {
  margin: 0;
}
.euraf-af-list p:before {
  content: "- "
}

/* Footer (refined, more discrete) */
.footer {
  text-align: center;
  background-color: rgba(248, 249, 250, 0.96);
  color: #6c757d;
  font-size: 12px;
  position: fixed;
  bottom: 0;
  width: 100%;
  box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.04);
  z-index: 1000;
  margin-bottom: 0;
}

.footer a {
  color: #007bff;
  text-decoration: none;
}
.footer a:hover {
  color: #0056b3;
  text-decoration: underline;
}

/* small helper for visually-hidden content (keeps markup accessible) */
.sr-only {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

/* Visualizations Counter */
.visualizations-counter {
  display: inline-block;
  font-size: 12px;
  font-weight: bold;
  color: #333;
  position: relative;
}
.star-badge {
  /*position: absolute;
  top: -10px;
  right: -15px;*/
  font-size: 1em;
  color: gold;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
  z-index: 100;
}
.star-badge.show {
  opacity: 1;
  transform: scale(1.5);
}
.star-badge.hide {
  opacity: 0;
  transform: scale(0.5);
}

/* Active filter chips (left of visualization counter) */
#active-filters {
  display: inline-flex;
  gap: 6px;
  align-items: center;
}
.filter-chip {
  background: rgba(0, 123, 255, 0.06); /* subtle blue background */
  border: 1px solid rgba(0, 123, 255, 0.18);
  color: #007bff; /* primary blue */
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 12px;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.filter-chip .chip-label { font-weight: 600; }
.filter-chip .chip-clear {
  cursor: pointer;
  font-weight: bold;
  color: #007bff;
  padding: 0 6px;
}
.filter-chip .chip-clear:hover { color: #0056b3; }
.filter-chip:hover { background: rgba(0,86,179,0.06); }

/* Sticky Buttons */
.sticky-btn,
.sticky-btn-right {
  position: fixed;
  top: 70px;
  background-color: #f0f4f8; /* Light neutral background */
  color: #253d5b; /* Dark blue text */
  font-size: 1rem;
  padding: 8px 18px; /* More standard button padding */
  border: 1px solid #b6e2c6; /* Soft green border */
  border-radius: 6px; /* Slightly rounded corners */
  cursor: pointer;
  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.08); /* Subtle shadow */
  z-index: 1000;
  transition: background-color 0.2s, color 0.2s, box-shadow 0.2s;
}
.sticky-btn {
  left: 20px;
}
#open-filter.sticky-btn {
  top: 15px;
}
#open-about.sticky-btn-right {
  top: 15px;
}
#open-embed.sticky-btn-right {
  top: 15px;
  right: 125px;
}
.sticky-btn-right {
  right: 20px;
}
.sticky-btn:hover,
.sticky-btn-right:hover {
  background-color: #eafbe7; /* Soft green on hover */
  color: #008b00; /* Green text on hover */
  box-shadow: 0px 4px 16px rgba(0, 139, 0, 0.13);
  transform: none; /* Remove scale effect */
}

/* Icon Overlay */
.icon-overlay {
  position: inherit;
  bottom: -1px;
  right: -3px;
  color: #fff;
  padding: 5px;
  font-size: 12px;
  z-index: 10;
  transition: background-color 0.3s ease;
  text-align: center;
  line-height: 1;
  border-radius: 50%;
  text-decoration: none;
}
.icon-overlay:hover {
  text-decoration: none;
}

/* Magnific Popup */
.mfp-title {
  font-size: 18px;
  color: #fff;
  margin-top: 10px;
  text-align: center;
}
.mfp-figure .mfp-img {
  border-radius: 10px !important;
  max-width: 100%;
  height: auto;
}
.mfp-author {
  font-size: 16px;
  color: #ccc;
}
.mfp-doi {
  font-size: 14px;
  color: #00bfff;
  text-align: center;
}

/* Gallery Actions */
.gallery-actions {
  display: flex;
  justify-content: center;
  gap: 18px;
  margin-bottom: 18px;
}
.gallery-action-btn {
  background: #eafbe7;
  color: #253d5b;
  border: 1px solid #b6e2c6;
  border-radius: 8px;
  padding: 10px 28px;
  font-size: 1.05em;
  font-family: "Segoe UI", sans-serif !important;
  font-weight: 500;
  box-shadow: 0 2px 8px rgba(0, 139, 0, 0.07);
  display: flex;
  align-items: center;
  gap: 8px;
  transition: background 0.2s, box-shadow 0.2s, color 0.2s;
  cursor: pointer;
}
.gallery-action-btn:hover,
.gallery-action-btn:focus {
  background: #d2f5d8;
  color: #008b00;
  box-shadow: 0 4px 16px rgba(0, 139, 0, 0.13);
  outline: none;
}
.action-icon {
  font-size: 1.3em;
  vertical-align: middle;
}
.action-label {
  vertical-align: middle;
}

/* Images */
img {
  max-width: 100%;
  display: block;
  height: auto;
  border-radius: 5px;
}

/* Grid Items */
.grid-sizer,
.grid-item {
  width: 100%;
  margin: 0;
  padding: 1px;
}

/* Responsive Grid */
@media only screen and (max-width: 350px) {
  .grid-sizer,
  .grid-item {
    width: 50%;
    margin: 0;
    padding: 1px;
  }
  #wordcloudDrawer {
    display: block;
  }
  #wordcloudDrawer.visible {
    display: block;
  }
}

@media only screen and (min-width: 351px) and (max-width: 767px) {
  .grid-sizer,
  .grid-item {
    width: 33.3%;
    margin: 0;
    padding: 1px;
  }
}

@media only screen and (min-width: 768px) {
  .grid-sizer,
  .grid-item {
    width: 20%;
    margin: 0;
    padding: 1px;
  }
}

.action-icon {
  font-size: 1.3em;
  vertical-align: middle;
}

.action-label {
  vertical-align: middle;
}

img {
  max-width: 100%;
  display: block;
  height: auto;
  border-radius: 5px;
}

.grid-sizer,
.grid-item {
  width: 100%;
  margin: 0px;
  padding: 1px;
  /* vertical-align: center; */
}

@media only screen and (max-width: 350px) {
  .grid-sizer,
  .grid-item {
    width: 50%;
    margin: 0px;
    vertical-align: center;
    padding: 1px;
  }
  #wordcloudDrawer {
    display: block; /* Initially hide */
  }

  #wordcloudDrawer.visible {
    display: block; /* Show when it's toggled to visible */
  }
  .info-box {
    font-size: 0.7rem;
    margin: 0 1rem;
  }
  .sticky-btn-text {
    display: none;
  }

}

@media only screen and (min-width: 350px) and (max-width: 767px) {
  .grid-sizer,
  .grid-item {
    width: 33.3%;
    margin: 0px;
    vertical-align: center;
    padding: 1px;
  }
  .info-box {
    font-size: 0.7rem;
    margin: 0 1rem;
  }
  .sticky-btn {
    padding: 0.5rem;
  }
  .sticky-btn-text {
    display: none;
  }
  .gallery-header {
    margin-top: 1rem;
  }
  .gallery-header h1 {
    font-size: 2rem;
    margin: 0 3rem;
  }
  .gallery-header h4 {
    font-size: 1.5rem;
    margin: 0.5rem 3rem;
  }
}

@media only screen and (min-width: 767px) {
  .grid-sizer,
  .grid-item {
    width: 20%;
    margin: 0px;
    padding: 0px;
    vertical-align: center;
    padding: 1px;
  }
}

/* Extra space for pagination */
.gallery-pagination {
  padding-bottom: 30px; /* Extra space above footer */
}
.visualizations-counter {
  background: #eafbe7;
  border-left: 4px solid #008b00;
  padding-bottom: 30px; /* Extra space above footer */
}

.page-btn.active {
  background: #008b00;
  color: #fff;
  pointer-events: none; /* Prevent clicking */
  cursor: default;
  border: 1px solid #008b00;
  font-weight: bold;
  box-shadow: 0 2px 8px rgba(0, 139, 0, 0.13);
}

/* Add to your CSS file */
.gallery-hidden {
  visibility: hidden;
  height: 0;
  overflow: hidden;
}

.mfp-content, .mfp-figure, .mfp-iframe-scaler, .mfp-iframe-holder .mfp-content {
    text-align: center;
}

.mfp-content img, .mfp-content iframe {
    display: inline-block;
}

/* Map popup styling to match Magnific Popup info, discrete and neat */
.custom-map-popup .map-popup {
  font-family: "Segoe UI", sans-serif;
  color: #253d5b;
  max-width: 320px;
}
.custom-map-popup .map-popup-title {
  font-weight: 700;
  margin-bottom: 4px;
  color: var(--dark-blue);
  font-size: 15px;
}
.custom-map-popup .map-popup-meta {
  color: #6c757d;
  font-size: 13px;
  margin-bottom: 6px;
}
.custom-map-popup .map-popup-img img {
  width: auto;
  height: auto;
  border-radius: 6px;
  display: block;
  margin: 6px auto;
}
.custom-map-popup .map-popup-doi {
  margin-top: 6px;
  font-size: 13px;
}
.custom-map-popup .map-popup-doi a {
  color: #008b00;
  text-decoration: none;
  font-weight: 600;
}
.custom-map-popup .map-popup-doi a:hover {
  text-decoration: underline;
}

/* MarkerCluster uses its default styling (do not override) */

/* Custom single marker styling (matches cluster blue) */
.custom-marker-pin {
  width: 30px;
  height: 30px;
  background: #008b00; /* primary blue */
  border: 2px solid #fff;
  border-radius: 50% 50% 50% 0;
  transform: rotate(-45deg);
  box-shadow: 0 2px 6px rgba(0,0,0,0.25);
}
.custom-marker-wrapper .custom-marker-pin::after {
  content: '';
  width: 10px;
  height: 10px;
  margin: 4px 0 0 4px;
  background: rgba(255,255,255,0.9);
  border-radius: 50%;
  display: block;
}